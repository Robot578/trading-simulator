<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¢—Ä–µ–π–¥–∏–Ω–≥-—Å–∏–º—É–ª—è—Ç–æ—Ä</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            max-width: 450px;
            margin: 0 auto;
            padding: 15px;
            background-color: #121826;
            color: #ffffff;
        }
        .header {
            text-align: center;
            margin-bottom: 20px;
        }
        .balance-card {
            background: #1e293b;
            border-radius: 12px;
            padding: 15px;
            margin-bottom: 20px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        .asset-card {
            background: #1e293b;
            border-radius: 12px;
            padding: 15px;
            margin-bottom: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .price {
            font-size: 18px;
            font-weight: bold;
            color: #10b981;
        }
        .down {
            color: #ef4444;
        }
        button {
            background: #3b82f6;
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            margin: 5px;
        }
        button.sell {
            background: #ef4444;
        }
        .trade-panel {
            display: flex;
            margin-top: 10px;
        }
        input {
            padding: 10px;
            border-radius: 8px;
            border: 1px solid #334155;
            background: #1e293b;
            color: white;
            flex-grow: 1;
            margin-right: 10px;
        }
        .chart-container {
            height: 200px;
            margin: 20px 0;
            background: #1e293b;
            border-radius: 12px;
            padding: 10px;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>üí∞ Crypto Trader</h1>
        <p>–í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π —Ç—Ä–µ–π–¥–∏–Ω–≥ –≤ Telegram</p>
    </div>

    <div class="balance-card">
        <h3>–í–∞—à –±–∞–ª–∞–Ω—Å</h3>
        <p id="usdt-balance">100.00 USDT</p>
        <div id="portfolio">
            <!-- –°—é–¥–∞ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è –∞–∫—Ç–∏–≤—ã -->
        </div>
    </div>

    <div class="asset-card">
        <div>
            <h3>BTC/USDT</h3>
            <p class="price" id="btc-price">50000.00 <span id="btc-change">(+2.5%)</span></p>
        </div>
        <div>
            <p>RSI: <span id="rsi">56.3</span></p>
        </div>
    </div>

    <div class="chart-container">
        <!-- –ó–¥–µ—Å—å –±—É–¥–µ—Ç –≥—Ä–∞—Ñ–∏–∫ -->
        <p style="text-align: center;">–ì—Ä–∞—Ñ–∏–∫ —Ü–µ–Ω—ã BTC</p>
    </div>

    <div class="trade-panel">
        <input type="number" id="trade-amount" placeholder="–°—É–º–º–∞" value="100">
        <button onclick="executeTrade('BUY', 'BTC')">–ö—É–ø–∏—Ç—å</button>
        <button class="sell" onclick="executeTrade('SELL', 'BTC')">–ü—Ä–æ–¥–∞—Ç—å</button>
    </div>

    <div id="trade-history">
        <h3>–ü–æ—Å–ª–µ–¥–Ω–∏–µ —Å–¥–µ–ª–∫–∏</h3>
        <!-- –°—é–¥–∞ –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è –∏—Å—Ç–æ—Ä–∏—è -->
    </div>

    <script>
        // –ò–º–∏—Ç–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –∏–∑ —Ç–≤–æ–µ–≥–æ Python-–∫–æ–¥–∞
        let state = {
            balance: 100.00,
            portfolio: {
                "BTC": 0,
                "ETH": 0
            },
            history: []
        };

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
        function updateUI() {
            document.getElementById('usdt-balance').textContent = state.balance.toFixed(2) + ' USDT';

            let portfolioHTML = '';
            for (const [asset, amount] of Object.entries(state.portfolio)) {
                if (amount > 0) {
                    portfolioHTML += `<p>${asset}: ${amount.toFixed(6)}</p>`;
                }
            }
            document.getElementById('portfolio').innerHTML = portfolioHTML || '<p>–ù–µ—Ç –∞–∫—Ç–∏–≤–æ–≤</p>';

            // –ó–¥–µ—Å—å –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≥—Ä–∞—Ñ–∏–∫–∞ —á–µ—Ä–µ–∑ Chart.js
        }

        // –ò–º–∏—Ç–∞—Ü–∏—è —Ç–æ—Ä–≥–æ–≤–ª–∏ (–º–æ–∂–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ –≤—ã–∑–æ–≤—ã –∫ —Ç–≤–æ–µ–º—É API)
        function executeTrade(action, asset) {
            const amount = parseFloat(document.getElementById('trade-amount').value);
            if (isNaN(amount) || amount <= 0) {
                alert('–í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—É—é —Å—É–º–º—É');
                return;
            }

            // –õ–æ–≥–∏–∫–∞ –∏–∑ —Ç–≤–æ–µ–≥–æ execute_trade()
            if (action === 'BUY') {
                if (amount > state.balance) {
                    alert('–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤');
                    return;
                }
                const price = 50000; // –ó–¥–µ—Å—å –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∞—Ç—å —Ä–µ–∞–ª—å–Ω—É—é —Ü–µ–Ω—É
                const amountBought = amount / price;
                state.balance -= amount;
                state.portfolio[asset] = (state.portfolio[asset] || 0) + amountBought;

                state.history.push({
                    type: 'BUY',
                    asset,
                    amount: amountBought,
                    price,
                    total: amount,
                    timestamp: new Date().toLocaleString()
                });

                alert(`–ö—É–ø–ª–µ–Ω–æ ${amountBought.toFixed(6)} ${asset} –∑–∞ ${amount.toFixed(2)} USDT`);
            } else if (action === 'SELL') {
                if (!state.portfolio[asset] || state.portfolio[asset] < amount) {
                    alert(`–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ ${asset} –¥–ª—è –ø—Ä–æ–¥–∞–∂–∏`);
                    return;
                }
                const price = 50000; // –ó–¥–µ—Å—å –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∞—Ç—å —Ä–µ–∞–ª—å–Ω—É—é —Ü–µ–Ω—É
                const totalReceived = amount * price;
                state.balance += totalReceived;
                state.portfolio[asset] -= amount;

                state.history.push({
                    type: 'SELL',
                    asset,
                    amount,
                    price,
                    total: totalReceived,
                    timestamp: new Date().toLocaleString()
                });

                alert(`–ü—Ä–æ–¥–∞–Ω–æ ${amount.toFixed(6)} ${asset} –∑–∞ ${totalReceived.toFixed(2)} USDT`);
            }

            updateUI();
            updateHistory();
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ —Å–¥–µ–ª–æ–∫
        function updateHistory() {
            let historyHTML = '';
            state.history.slice().reverse().slice(0, 5).forEach(trade => {
                historyHTML += `
                    <div style="margin-bottom: 10px; padding: 10px; background: #1e293b; border-radius: 8px;">
                        <p><strong>${trade.type === 'BUY' ? 'üü¢ –ö—É–ø–ª–µ–Ω–æ' : 'üî¥ –ü—Ä–æ–¥–∞–Ω–æ'} ${trade.asset}</strong></p>
                        <p>${trade.amount.toFixed(6)} ${trade.asset} –ø–æ ${trade.price.toFixed(2)} USDT</p>
                        <p>–°—É–º–º–∞: ${trade.total.toFixed(2)} USDT</p>
                        <p style="font-size: 12px; color: #94a3b8;">${trade.timestamp}</p>
                    </div>
                `;
            });
            document.getElementById('trade-history').innerHTML = '<h3>–ü–æ—Å–ª–µ–¥–Ω–∏–µ —Å–¥–µ–ª–∫–∏</h3>' +
                (historyHTML || '<p>–ù–µ—Ç —Å–¥–µ–ª–æ–∫</p>');
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        updateUI();
        updateHistory();

        // –ó–¥–µ—Å—å –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å WebSocket –¥–ª—è —Ä–µ–∞–ª—å–Ω—ã—Ö —Ü–µ–Ω
    </script>
</body>
</html>

